.archive #main,
.blog #main {
  background-color: var(--white);
}

.archive #content,
.blog #content {
  background: var(--off-white);
  padding-top: var(--spacing-32);
}

.archive .cards,
.blog .cards,
.pcc-story .cards {
  margin-bottom: var(--spacing-60);
}

.archive .card,
.blog .card,
.pcc-story .card {
  border-top: solid var(--border-medium) var(--light-red);
  background: var(--white);
  box-shadow: 0 0 var(--spacing-5) rgba(0, 0, 0, 0.16);
}

.pcc-story .card {
  border-top-color: var(--yellow);
}

.archive .card:hover,
.blog .card:hover,
.pcc-story .card:hover {
  border-top: solid var(--border-medium) var(--red);
  box-shadow: 0 0 var(--spacing-5) rgba(0, 0, 0, 0.4);
}

.archive .card:focus-within,
.blog .card:focus-within,
.pcc-story .card:focus-within {
  border-top: solid var(--border-medium) var(--red);
  box-shadow: 0 0 var(--spacing-5) rgba(0, 0, 0, 0.4);
}

.archive .card a:focus,
.blog .card a:focus,
.pcc-story .card a:focus {
  background-color: white;
  color: var(--blue);
}

.pcc-story figure {
  height: 350px;
  overflow: hidden;
}

.blog__details,
.pcc-story__details {
  margin-bottom: var(--spacing-16);
}

.blog__details .title a,
.blog__details time,
.pcc-story__details .title a,
.pcc-story__details .card__region {
  padding-left: var(--spacing-20);
  padding-right: var(--spacing-20);
  padding-top: var(--spacing-2);
}

.blog__details time {
  color: var(--warm-grey);
  font-family: var(--font-family-serif);
  font-size: var(--font-size-small);
  display: block;
  margin-top: var(--spacing-4);
}

.pcc-story .icon {
  width: 20px;
  height: 20px;
}

.single-pcc-story .breadcrumb,
.single-post .breadcrumb {
  margin-top: var(--spacing-32);
}

.single-pcc-story h1,
.single-post h1 {
  font-size: var(--font-size-larger);
  line-height: 1.35;
  margin-bottom: var(--spacing-8);
}

.single-pcc-story .entry-meta,
.single-post .entry-meta {
  margin-bottom: var(--gutter);
}

.single-post .entry-meta,
.single-post .tags-container p {
  color: var(--warm-grey);
  display: flex;
  flex-direction: row;
  font-family: var(--font-family-serif);
  font-size: var(--font-size-small);
  justify-content: space-between;
}

.single-pcc-story figure:not([class^="align"]),
.single-post figure:not([class^="align"]) {
  margin: var(--spacing-36) 0 var(--spacing-24);
}

.single-pcc-story figure img,
.single-post figure img {
  height: auto;
  max-width: 100%;
}

.single-pcc-story article,
.single-post article {
  margin-bottom: var(--spacing-70);
}

.single-pcc-story article footer,
.single-post article footer {
  margin-top: var(--spacing-30);
}

/* TODO: Improve this solution. */
.single-pcc-story article p > iframe,
.single-post article p > iframe {
  max-width: 100%;
  width: 100%;
}

.pcc-story-video-container {
  /* Responsive video container based from https://themeskills.com/make-embedded-youtube-videos-responsive-wordpress/ */
  position: relative;
  padding-bottom: 56.25%;
  height: 0;
  overflow: hidden;
}

.pcc-story-video-container iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.menu-button {
  position: relative;
}

.menu-button button {
  display: inline-block;
  background: transparent;
  border-color: transparent;
  color: var(--dark-blue);
}

.menu-button button:focus {
  background-color: var(--dark-blue);
  color: var(--white);
}

.menu-button button .icon {
  background-color: var(--dark-blue);
  width: 10px;
  height: 10px;
  mask-image: url("../images/chevron-down.svg");
  mask-position: center;
  mask-repeat: no-repeat;
  transition: transform 0.5s;
  display: inline-block;
  margin-bottom: 0;
}

.menu-button button:focus .icon {
  background-color: white;
}

.menu-button button[aria-expanded="true"] .icon {
  transform: rotate(180deg);
}

.menu-button__menu {
  z-index: 1;
}

.menu-button__menu [data-popper-arrow],
.menu-button__menu [data-popper-arrow]::before {
  position: absolute;
}

.menu-button__menu [data-popper-arrow]::before {
  background: var(--white);
  content: "";
  height: 20px;
  width: 20px;
}

.menu-button__menu[data-popper-placement^="bottom"] [data-popper-arrow],
.menu-button__menu[data-popper-placement^="top"] [data-popper-arrow] {
  height: 20px;
  overflow: hidden;
  width: 40px;
}

.menu-button__menu[data-popper-placement^="bottom"] [data-popper-arrow]::before,
.menu-button__menu[data-popper-placement^="top"] [data-popper-arrow]::before {
  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.19);
  left: 50%;
  transform: translateX(-50%) translateY(-50%) rotate(45deg);
}

.menu-button__menu[data-popper-placement^="bottom"] [data-popper-arrow]::before {
  box-shadow: -4px -4px 6px rgba(0, 0, 0, 0.19);
  top: 20px;
}

.menu-button__menu[data-popper-placement^="bottom"] {
  margin-top: 20px;
}

.menu-button__menu[data-popper-placement^="bottom"] [data-popper-arrow] {
  top: -20px;
}

.menu-button__menu[data-popper-placement^="top"] {
  margin-bottom: 20px;
}

.menu-button__menu[data-popper-placement^="top"] [data-popper-arrow] {
  bottom: -20px;
}

.menu-button__menu[data-popper-placement^="left"] [data-popper-arrow],
.menu-button__menu[data-popper-placement^="right"] [data-popper-arrow] {
  height: 40px;
  width: 20px;
}

.menu-button__menu[data-popper-placement^="left"] [data-popper-arrow]::before,
.menu-button__menu[data-popper-placement^="right"] [data-popper-arrow]::before {
  top: 50%;
  transform: translateX(-50%) translateY(-50%) rotate(45deg);
}

.menu-button__menu[data-popper-placement^="left"] {
  margin-right: 20px;
}

.menu-button__menu[data-popper-placement^="left"] [data-popper-arrow] {
  right: -20px;
}

.menu-button__menu[data-popper-placement^="left"] [data-popper-arrow]::before {
  right: 0;
}

.menu-button__menu[data-popper-placement^="right"] {
  margin-left: 20px;
}

.menu-button__menu[data-popper-placement^="right"] [data-popper-arrow] {
  left: -20px;
}

.menu-button__menu[data-popper-placement^="right"] [data-popper-arrow]::before {
  left: 20px;
}

.menu-button__menu ul {
  background-color: var(--white);
  border-radius: 3px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.19);
  list-style: none;
  margin-top: 0;
  padding-left: 0;
  text-align: left;
}

.menu-button__menu li {
  margin: 0;
}

.menu-button__menu li + li {
  border-top: solid 1px var(--grey-400);
}

.menu-button__menu li:focus-within + li,
.menu-button__menu li + li:focus-within {
  border-top-color: transparent;
}

.menu-button__menu a {
  align-items: center;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  line-height: 1.5;
  padding: 10px 14px;
  text-decoration: none;
  width: 100%;
}

.menu-button__menu a::after {
  display: none;
}

.menu-button__menu a:active {
  text-decoration: none;
}

.menu-button__menu a:focus {
  background-color: var(--dark-blue);
  color: var(--white);
  text-decoration: none;
}

.menu-button__menu a:active:focus {
  outline: 1px solid var(--dark-blue);
  text-decoration: none;
}

.menu-button__menu a[aria-current]::before {
  mask-image: url("../images/checkmark.svg");
  mask-position: center;
  mask-repeat: no-repeat;
  background-color: var(--dark-blue);
  content: "";
  display: inline-block;
  height: 1em;
  margin-right: 6px;
  width: 1.5em;
}

.menu-button__menu a[aria-current]:focus::before {
  background-color: var(--white);
}

.menu-button__menu a[aria-current]:active::before,
.menu-button__menu a[aria-current]:active:focus::before {
  background-color: var(--white);
}

.menu-button [aria-expanded="true"] + .menu-button__menu {
  display: block;
}

.menu-button [aria-expanded="false"] + .menu-button__menu {
  display: none;
}

/* Tablet */

/* Desktop */
@media (--breakpoint-lg) {
  .single-pcc-story .breadcrumb,
  .single-post .breadcrumb {
    margin-top: var(--spacing-120);
  }

  .single-pcc-story h1,
  .single-post h1 {
    font-size: var(--font-size-max);
    margin-bottom: var(--spacing-32);
  }

  .single-pcc-story article,
  .single-post article {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    grid-template-rows: auto 2.5rem auto;
    grid-template-areas:
      "header header header header header header header header header header header header"
      "meta meta meta meta article article article article article article article article"
      "footer footer footer footer article article article article article article article article";
    column-gap: var(--gutter);
  }

  .single-pcc-story header,
  .single-post header {
    grid-area: header;
  }

  .single-pcc-story .entry-meta,
  .single-post .entry-meta {
    display: block;
    grid-area: meta;
  }

  .single-pcc-story article footer,
  .single-post article footer {
    grid-area: footer;
  }

  .single-post figure {
    margin-top: 0;
  }

  .single-post * + figure {
    margin-top: var(--spacing-36);
  }

  .single-pcc-story .content,
  .single-post .content {
    grid-area: article;
  }
}
